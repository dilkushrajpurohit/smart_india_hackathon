<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title>welcome</title>
</head>
<style>
    *{
        padding: 0;
        margin: 0;
    }
    .main_header{
        width: 100%;
        height: 70px;
        background-color: yellow;
    }
    .text_heading{
        font-size: 50px;
        text-align: center;
        color: green;
    }
    .navbar{
        width: 100%;
        height: 40px;
        background-color: greenyellow;
    }
    nav {
        display: flex;
        margin-left: 20px;
    }
    nav li{
        margin-left: 190px;
    
        list-style-type: none;
    }
    .search{
        width: 50%;
        position: relative;
        top: 10px;
        left: 20%;
    }
    .mod_emogi{
        width: 100%;
        height: 70px;
        border: 2px solid grey;
        display:flex
    }
    .emoji_li img{
        height: 55px;
        width: 68px;
    }
    .emoji_li{
        margin-left: 70px;
    }
    #main{
        height: 309px;
        width: 67%;
        border: 2px solid grey;
        position: relative;
        left: 15%;
        overflow: auto;
        top: 2px;
    }
</style>
<body>
    <header class="main_header"><div class="text_heading">SMART INDIA HACKATHON</div></header>
    <div class="navbar">
        <nav>
            <li><a href="/home"> Home</a></li>
            <li><a href="/tracker"> Mood-tracker</a></li>
            <li><a href="/connect"> Connect </a></li>
            <li><a href="/consult"> Consult </a></li>
        </nav>
    </div>
    <div class="search">
        <div class="mb-3">
            <div style="display: flex;">
            <input type="button" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com" name="search" >
            <button onclick="loaduser()">search</button>
            </div>
          </div>
    </div>
    <div class="mod_emogi">
        <li class="emoji_li">
            <img src="anxiety.png" alt="anxiety">
            <button data-value="Anxiety" id="Anxiety" onclick="Anxiety()">Anxiety</button>
        </li>
        <li class="emoji_li">
            <img src="depression.png" alt="Depression">
            <button data-value="Depression" id="Depression" onclick="depression()">Depression</button>
        </li>
    </div>
    <div id="main">
        <h1 id="h1"  style="text-align: center; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; color: green;"></h1>
        <h4 id="h4"></h4>
        <span id="pop" style="display: none;">population</span><progress value="" max="100" id="population">population</progress>
        <span id="ma" style="display: none;">man</span><progress value="" max="100" id="man"> man</progress>
       <span id="lad" style="display: none;">ladies</span> <progress value="" max="100" id="ladies">ladies</progress>
    </div>
    <div class="btn">
        <button type="button" class="btn btn-primary">Meditation</button>
       <a href="/game"> <button type="button" class="btn btn-success">Relaxing game</button></a>
        <button type="button" class="btn btn-danger">music</button>
    </div>
    <script>
        function Anxiety(){
         let valu=document.getElementById('Anxiety').getAttribute('data-value');
         let input=document.getElementById("exampleFormControlInput1").value=valu;

        }
        function depression(){
            let valu=document.getElementById('Depression').getAttribute('data-value');
            let input=document.getElementById("exampleFormControlInput1").value=valu;

        }
       async function loaduser(){
        let valu=document.getElementById("exampleFormControlInput1").value
            let result=await fetch("/search?query="+encodeURIComponent(valu));//yeh ek response deta hai data nhi 
            let user= await  result.json();// kya bug tha are json ek function hai  
            document.getElementById("h1").innerHTML=JSON.stringify(user.disease)// json se string mai convert hoga varna toh object dega
            document.getElementById("h4").innerHTML=JSON.stringify(user.desc)
            document.getElementById("population").value=JSON.stringify(user.population)
            document.getElementById("man").value=JSON.stringify(user.man)
            document.getElementById("ladies").value=JSON.stringify(user.ladies)
            document.getElementById('pop').style.display='block'
            document.getElementById('ma').style.display='block'
            document.getElementById('lad').style.display='block'

        }
    </script>
</body>
</html>